---
import "@/styles/global.css";
import Layout from "@layouts/Layout.astro";
import RacingSplash from "@components/motorsport/Splash.astro";
import Hero from "@/components/motorsport/Hero.astro";
import Last from "@/components/motorsport/Last.astro";
import SmoothScrollLayout from "@/components/motorsport/SmoothScrollLayout.astro";
import Milestone from "@/components/motorsport/Milestone.astro";
import Final from "@/components/motorsport/Final.astro";
import FinalMessage from "@/components/motorsport/FinalMessage.astro";
import Acerca from "@/components/motorsport/Acerca.astro";
---

<Layout title="Demo Motorsport - Eliezer Martinez">
  <RacingSplash
    author="DEMO MOTORSPORT"
    dedication="EN HONOR A UNA LEYENDA"
    title="— Kenji Nakamura"
    label="FANPAGE"
  />

  <SmoothScrollLayout>
    <Hero />
    <Acerca />
    <Last />
    <Milestone />
    <Final />
    <FinalMessage />
  </SmoothScrollLayout>
</Layout>

<script>
  import { gsap } from "gsap";

  // Esperar a que termine el splash para mostrar el contenido
  setTimeout(() => {
    gsap.to(".main-content", {
      opacity: 1,
      y: 0,
      duration: 0.8,
      ease: "power2.out",
      onComplete: () => {
        // Activar la animación de texto del hero cuando sea visible
        const heroElement = document.querySelector(".hero-motorsport");
        if (heroElement) {
          heroElement.setAttribute("data-hero-ready", "true");
        }

        // Alternativa: usar la función global si está disponible
        if (typeof (window as any).startHeroTextReveal === "function") {
          (window as any).startHeroTextReveal();
        }
      },
    });
  }, 3500); // Ajusta este tiempo según la duración de tu splash
</script>
